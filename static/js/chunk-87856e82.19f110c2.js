(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87856e82"],{"07ed":function(e,t,n){"use strict";var r=n("c710"),o=n("af5f"),c=n("004e"),a=n("38b7"),l=n("303a");r("search",1,(function(e,t,n){return[function(t){var n=c(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var c=o(e),u=String(this),i=c.lastIndex;a(i,0)||(c.lastIndex=0);var d=l(c,u);return a(c.lastIndex,i)||(c.lastIndex=i),null===d?-1:d.index}]}))},"38b7":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},4798:function(e,t,n){"use strict";var r=n("a2d6"),o=n("3090"),c=n("fa95"),a=n("6db9"),l=n("66ef"),u=n("4ec2"),i=n("a977"),d=n("78f9"),b=n("ec5d"),s=n("c065"),f=n("9f8c").f,m=n("0d14").f,O=n("ecaf").f,j=n("a692").trim,p="Number",g=o[p],N=g.prototype,v=u(s(N))==p,C=function(e){var t,n,r,o,c,a,l,u,i=d(e,!1);if("string"==typeof i&&i.length>2)if(i=j(i),t=i.charCodeAt(0),43===t||45===t){if(n=i.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(i.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+i}for(c=i.slice(2),a=c.length,l=0;l<a;l++)if(u=c.charCodeAt(l),u<48||u>o)return NaN;return parseInt(c,r)}return+i};if(c(p,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var h,x=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof x&&(v?b((function(){N.valueOf.call(n)})):u(n)!=p)?i(new g(C(t)),n,x):C(t)},V=r?f(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;V.length>y;y++)l(g,h=V[y])&&!l(x,h)&&O(x,h,m(g,h));x.prototype=N,N.constructor=x,a(o,p,x)}},"4b7c":function(e,t,n){"use strict";var r=n("dbba");t["a"]=function(){var e=Object(r["ref"])(!1),t=Object(r["ref"])(!1),n=Object(r["ref"])([]),o=Object(r["reactive"])({current:1,pageSize:10,pageSizeOptions:["10","30","50","80"],total:0,showSizeChanger:!0,showTotal:function(e){return"共 ".concat(e," 个")}}),c=Object(r["reactive"])({selectedRowKeys:[],onChange:function(e){c.selectedRowKeys=e}});function a(t,r,c){o.current=t,o.pageSize=r,e.value=!0,c(t,r).then((function(t){var r=t.data,c=t.page;e.value=!1,n.value=r,o.current=c.page,o.pageSize=c.size,o.total=c.count})).catch((function(e){return console.log(e)}))}function l(){c.selectedRowKeys=[]}return{listLoading:e,searchLoading:t,listData:n,pageConfig:o,rowSelection:c,getList:a,clearSelect:l}}},"6b5b":function(e,t,n){"use strict";n("e568")},ae61:function(e,t,n){},bc66:function(e,t,n){"use strict";n("ae61")},e0e2:function(e,t,n){"use strict";n.r(t);n("5c4c");var r=n("dbba"),o=Object(r["withScopeId"])("data-v-6991ab8f");Object(r["pushScopeId"])("data-v-6991ab8f");var c={class:"company-info-container"},a={class:"operate-btn-container"},l=Object(r["createTextVNode"])("变更基本信息"),u=Object(r["createTextVNode"])("取消变更");Object(r["popScopeId"])();var i=o((function(e,t){var n=Object(r["resolveComponent"])("a-tab-pane"),i=Object(r["resolveComponent"])("a-tabs"),d=Object(r["resolveComponent"])("a-button");return Object(r["openBlock"])(),Object(r["createBlock"])("div",c,[Object(r["createVNode"])(i,{"active-key":e.activeName,"onUpdate:active-key":t[1]||(t[1]=function(t){return e.activeName=t}),type:"card",class:"card-container"},{default:o((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.tabs,(function(t){return Object(r["openBlock"])(),Object(r["createBlock"])(n,{key:t.name,tab:t.label},{default:o((function(){return[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(t.component),{ref:t.name,"active-tab-name":e.activeName,data:e.tabDatas[t.data],loading:e.pageLoading,"disable-edit":e.disableEdit,onChange:e.tabContentChange},null,8,["active-tab-name","data","loading","disable-edit","onChange"]))]})),_:2},1032,["tab"])})),128))]})),_:1},8,["active-key"]),Object(r["createVNode"])("div",a,[e.showBaseInfoChangeBtn?(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:0},[e.isChange?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:1,onClick:t[3]||(t[3]=function(t){return e.changeInfo(!1)})},{default:o((function(){return[u]})),_:1})):(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:0,type:"primary",onClick:t[2]||(t[2]=function(t){return e.changeInfo(!0)})},{default:o((function(){return[l]})),_:1}))],64)):Object(r["createCommentVNode"])("",!0)])])})),d=(n("69bf"),n("845c"),n("d211")),b=Object(r["withScopeId"])("data-v-186afdee");Object(r["pushScopeId"])("data-v-186afdee");var s={key:0,class:"base-info-container"},f=Object(r["createTextVNode"])("取消变更"),m=Object(r["createTextVNode"])("提交变更");Object(r["popScopeId"])();var O=b((function(e,t){var n=Object(r["resolveComponent"])("a-form-item"),o=Object(r["resolveComponent"])("a-col"),c=Object(r["resolveComponent"])("a-row"),a=Object(r["resolveComponent"])("a-input"),l=Object(r["resolveComponent"])("a-select-option"),u=Object(r["resolveComponent"])("a-select"),i=Object(r["resolveComponent"])("a-button"),d=Object(r["resolveComponent"])("a-space"),O=Object(r["resolveComponent"])("a-form");return e.loading?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])("div",s,[Object(r["createVNode"])(O,{ref:"submitForm",model:e.form,rules:e.rules,"label-col":{span:e.labelColSpan},"wrapper-col":{span:e.wrapperColSpan}},{default:b((function(){return[e.disableEdit?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0,gutter:10},{default:b((function(){return[Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"单位名称"},{default:b((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.form.companyName),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"统一信用代码"},{default:b((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.form.creditCode),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"单位性质"},{default:b((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.form.companyNature),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"单位地址"},{default:b((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.form.companyAddress),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"法人姓名"},{default:b((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.form.legalPersonName),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"法人身份证号"},{default:b((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.form.legalPersonNumber),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"单位联系人"},{default:b((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.form.contacter),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"联系人手机号"},{default:b((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.form.contacterPhone),1)]})),_:1})]})),_:1})]})),_:1})):(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:1,gutter:10},{default:b((function(){return[Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"单位名称",name:"companyName"},{default:b((function(){return[Object(r["createVNode"])(a,{value:e.form.companyName,"onUpdate:value":t[1]||(t[1]=function(t){return e.form.companyName=t}),placeholder:"请输入单位名称"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"统一信用代码",name:"creditCode"},{default:b((function(){return[Object(r["createVNode"])(a,{value:e.form.creditCode,"onUpdate:value":t[2]||(t[2]=function(t){return e.form.creditCode=t}),placeholder:"请输入统一信用代码"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"单位性质",name:"companyNature"},{default:b((function(){return[Object(r["createVNode"])(u,{value:e.form.companyNature,"onUpdate:value":t[3]||(t[3]=function(t){return e.form.companyNature=t}),class:"width-100",placeholder:"请选择企单位性质"},{default:b((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.companyNatureList,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:"companyNature"+t,value:e},{default:b((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"单位地址",name:"companyAddress"},{default:b((function(){return[Object(r["createVNode"])(a,{value:e.form.companyAddress,"onUpdate:value":t[4]||(t[4]=function(t){return e.form.companyAddress=t}),placeholder:"请输入单位地址"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"法人姓名",name:"legalPersonName"},{default:b((function(){return[Object(r["createVNode"])(a,{value:e.form.legalPersonName,"onUpdate:value":t[5]||(t[5]=function(t){return e.form.legalPersonName=t}),placeholder:"请输入法人姓名"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"法人身份证号",name:"legalPersonNumber"},{default:b((function(){return[Object(r["createVNode"])(a,{value:e.form.legalPersonNumber,"onUpdate:value":t[6]||(t[6]=function(t){return e.form.legalPersonNumber=t}),placeholder:"请输入法人身份证号码"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"单位联系人",name:"contacter"},{default:b((function(){return[Object(r["createVNode"])(a,{value:e.form.contacter,"onUpdate:value":t[7]||(t[7]=function(t){return e.form.contacter=t}),placeholder:"请输入单位联系人姓名"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{label:"联系人手机号",name:"contacterPhone"},{default:b((function(){return[Object(r["createVNode"])(a,{value:e.form.contacterPhone,"onUpdate:value":t[8]||(t[8]=function(t){return e.form.contacterPhone=t}),placeholder:"请输入联系人手机号码"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:b((function(){return[Object(r["createVNode"])(n,{"wrapper-col":{span:e.wrapperColSpan,offset:e.labelColSpan}},{default:b((function(){return[Object(r["createVNode"])(d,{size:"small"},{default:b((function(){return[Object(r["createVNode"])(i,{onClick:e.cancelChange},{default:b((function(){return[f]})),_:1},8,["onClick"]),Object(r["createVNode"])(i,{type:"primary",onClick:e.onSubmit,loading:e.submitLoading},{default:b((function(){return[m]})),_:1},8,["onClick","loading"])]})),_:1})]})),_:1},8,["wrapper-col"])]})),_:1})]})),_:1}))]})),_:1},8,["model","rules","label-col","wrapper-col"])]))})),j=(n("b8a1"),n("6a61"),n("2e91")),p=n("61f7"),g=n("56c6"),N={GetCompanyInfo:function(e){return new Promise((function(t,n){g["a"].GetOne("CompanyInfo",e).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))},EditCompanyInfo:function(e,t){return new Promise((function(n,r){g["a"].EditOne("CompanyInfo",t,e).then((function(e){return n(e)})).catch((function(e){return r(e)}))}))},GetMemberList:function(e,t,n){var r=g["a"].GetQuery("_User");return r.equalTo("companyId","==",e.companyId),new Promise((function(e,o){g["a"].GetListData(r,t,n).then((function(t){return e(t)})).catch((function(e){return o(e)}))}))},GetMemberInfo:function(e){return new Promise((function(t,n){g["a"].GetOne("_User",e).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}},v={name:"BaseInfo",props:{activeTabName:{type:String,default:"base"},data:{type:Object,default:function(){return{}}},loading:{type:Boolean,default:!0},disableEdit:{type:Boolean,default:!0}},setup:function(e,t){var n=Object(r["getCurrentInstance"])(),o=n.ctx,c=Object(r["computed"])((function(){return o.$store.getters.pageLoading})),a=5,l=19,u=["事业单位","国有企业","集体所有制企业","私营企业","股份制企业","外资企业"],i={companyName:null,creditCode:null,companyNature:null,companyAddress:null,legalPersonName:null,legalPersonNumber:null,contacter:null,contacterPhone:null},b=Object(r["reactive"])(Object(d["a"])({},i)),s=function(e,t){return t?Object(p["c"])(t)?Promise.resolve():Promise.reject(new Error("统一社会信用代码格式错误")):Promise.reject(new Error("请输入统一社会信用代码"))},f=function(e,t){return t?Object(p["e"])(t)?Promise.resolve():Promise.reject(new Error("身份证号格式错误")):Promise.reject(new Error("请输入法人身份证号码"))},m=function(e,t){return t?Object(p["h"])(t)?Promise.resolve():Promise.reject(new Error("手机号码格式错误")):Promise.reject(new Error("请输入联系人手机号码"))},O=Object(r["reactive"])({companyName:[{required:!0,message:"请输入企业名称",trigger:"blur"}],creditCode:[{required:!0,validator:s,trigger:"blur"}],companyNature:[{required:!0,message:"请选择企业类型",trigger:"change"}],companyAddress:[{required:!0,message:"请输入单位地址",trigger:"blur"}],legalPersonName:[{required:!0,message:"请输入法人姓名",trigger:"blur"}],legalPersonNumber:[{required:!0,validator:f,trigger:"blur"}],contacter:[{required:!0,message:"请输入单位联系人姓名",trigger:"blur"}],contacterPhone:[{required:!0,validator:m,trigger:"blur"}]});Object(r["watch"])((function(){return o.data}),(function(e){var t=e&&Object.keys(e).length?Object(d["a"])({},e):Object(d["a"])({},i),n=t.companyName,r=t.creditCode,o=t.companyNature,c=t.companyAddress,a=t.legalPersonName,l=t.legalPersonNumber,u=t.contacter,s=t.contacterPhone;b.companyName=n,b.creditCode=r,b.companyNature=o,b.companyAddress=c,b.legalPersonName=a,b.legalPersonNumber=l,b.contacter=u,b.contacterPhone=s}));var g=Object(r["ref"])(!1),v=Object(r["computed"])((function(){return o.$store.getters.companyId})),C=function(){o.$refs.submitForm.validate().then(Object(j["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:g.value=!0,n=Object(r["toRaw"])(b),N.EditCompanyInfo(n,v.value).then((function(e){200==e.code?(t.emit("change","变更基本信息"),o.$message.success("基本信息变更成功！")):o.$message.error("基本信息变更失败！")})).catch((function(e){return console.log(e)})).finally((function(){return g.value=!1}));case 3:case"end":return e.stop()}}),e)})))).catch((function(e){console.log("error",e)}))},h=function(){t.emit("change","取消变更基本信息")};return{pageLoading:c,labelColSpan:a,wrapperColSpan:l,form:b,rules:O,companyNatureList:u,submitLoading:g,onSubmit:C,cancelChange:h}}};n("6b5b");v.render=O,v.__scopeId="data-v-186afdee";var C=v,h={class:"member-list-container"},x={key:0,class:"operate-btn-container mb-20"},V=Object(r["createTextVNode"])("添加"),y=Object(r["createTextVNode"])("删除"),k=Object(r["createTextVNode"])("启用"),w=Object(r["createTextVNode"])("禁用"),_=Object(r["createTextVNode"])("超级管理员"),B=Object(r["createTextVNode"])("系统管理员"),S=Object(r["createTextVNode"])("普通用户"),I=Object(r["createTextVNode"])("编辑 "),T=Object(r["createTextVNode"])("删除 "),M=Object(r["createTextVNode"])("查看详情 "),P=Object(r["createTextVNode"])("查看详情 ");function L(e,t){var n=Object(r["resolveComponent"])("smile-outlined"),o=Object(r["resolveComponent"])("a-alert"),c=Object(r["resolveComponent"])("a-button"),a=Object(r["resolveComponent"])("a-popconfirm"),l=Object(r["resolveComponent"])("a-space"),u=Object(r["resolveComponent"])("a-tag"),i=Object(r["resolveComponent"])("edit-outlined"),d=Object(r["resolveComponent"])("a-divider"),b=Object(r["resolveComponent"])("delete-outlined"),s=Object(r["resolveComponent"])("eye-outlined"),f=Object(r["resolveComponent"])("a-table"),m=Object(r["resolveComponent"])("member-store");return Object(r["openBlock"])(),Object(r["createBlock"])("div",h,[e.roles.indexOf("user")<0?(Object(r["openBlock"])(),Object(r["createBlock"])("div",x,[Object(r["createVNode"])(o,{description:"本页只做布局展示，若要测试增、删、改、查等功能请移步到“账户管理”页面进行操作",type:"info",class:"mb-20"},{icon:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(n)]})),_:1}),Object(r["createVNode"])(l,{size:"small"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{type:"primary",onClick:t[1]||(t[1]=function(t){return e.openMemberStoreMoadl(null,1)})},{default:Object(r["withCtx"])((function(){return[V]})),_:1}),Object(r["createVNode"])(a,{title:"确认删除?",onConfirm:t[2]||(t[2]=function(t){return e.showDevMoadl()})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{disabled:0===e.rowSelection.selectedRowKeys.length},{default:Object(r["withCtx"])((function(){return[y]})),_:1},8,["disabled"])]})),_:1}),Object(r["createVNode"])(c,{type:"primary",disabled:0===e.rowSelection.selectedRowKeys.length,onClick:e.showDevMoadl},{default:Object(r["withCtx"])((function(){return[k]})),_:1},8,["disabled","onClick"]),Object(r["createVNode"])(c,{disabled:0===e.rowSelection.selectedRowKeys.length,onClick:e.showDevMoadl},{default:Object(r["withCtx"])((function(){return[w]})),_:1},8,["disabled","onClick"])]})),_:1})])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(f,{class:"table-container",scroll:{x:1130},loading:e.listLoading,columns:e.columns,"data-source":e.listData,"row-key":function(e){return e.objectId},pagination:e.pageConfig,"row-selection":e.rowSelection,onChange:e.handleTableChange},{role:Object(r["withCtx"])((function(e){var t=e.text;return[Object(r["createVNode"])("span",null,["admin"===t?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,color:"blue",class:"mr-10"},{default:Object(r["withCtx"])((function(){return[_]})),_:1})):Object(r["createCommentVNode"])("",!0),"manage"===t?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:1,color:"green",class:"mr-10"},{default:Object(r["withCtx"])((function(){return[B]})),_:1})):Object(r["createCommentVNode"])("",!0),"user"===t?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:2,color:"orange",class:"mr-10"},{default:Object(r["withCtx"])((function(){return[S]})),_:1})):Object(r["createCommentVNode"])("",!0)])]})),action:Object(r["withCtx"])((function(n){var o=n.record;return[e.roles.indexOf("user")<0?(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:0},[e.roles.indexOf("admin")>=0||e.roles.indexOf(o.role)>=0||"user"===o.role?(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:0},[Object(r["createVNode"])("a",{onClick:function(t){return e.openMemberStoreMoadl(o,2)}},[Object(r["createVNode"])(i,{class:"mr-5"}),I],8,["onClick"]),Object(r["createVNode"])(d,{type:"vertical"}),Object(r["createVNode"])(a,{title:"确认删除?",onConfirm:t[3]||(t[3]=function(t){return e.showDevMoadl()})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("a",null,[Object(r["createVNode"])(b,{class:"mr-5"}),T])]})),_:1})],64)):(Object(r["openBlock"])(),Object(r["createBlock"])("a",{key:1,onClick:function(t){return e.openMemberStoreMoadl(o,3)}},[Object(r["createVNode"])(s,{class:"mr-5"}),M],8,["onClick"]))],64)):(Object(r["openBlock"])(),Object(r["createBlock"])("a",{key:1,onClick:function(t){return e.openMemberStoreMoadl(o,3)}},[Object(r["createVNode"])(s,{class:"mr-5"}),P],8,["onClick"]))]})),_:1},8,["loading","columns","data-source","row-key","pagination","row-selection","onChange"]),Object(r["createVNode"])(m,{visible:e.memberStoreModal.visible,"onUpdate:visible":t[4]||(t[4]=function(t){return e.memberStoreModal.visible=t}),id:e.memberStoreModal.id,type:e.memberStoreModal.type,onClose:e.closeMemberStoreModal},null,8,["visible","id","type","onClose"])])}n("d8f4"),n("07ed");var D=n("4b7c"),E=n("8c1b"),A=Object(r["createTextVNode"])("超级管理员"),U=Object(r["createTextVNode"])("系统管理员"),$=Object(r["createTextVNode"])("普通用户"),F={key:0},q=Object(r["createTextVNode"])("超级管理员"),R=Object(r["createTextVNode"])("系统管理员"),G=Object(r["createTextVNode"])("普通用户"),z=Object(r["createTextVNode"])("男"),K=Object(r["createTextVNode"])("女");function J(e,t){var n=Object(r["resolveComponent"])("a-form-item"),o=Object(r["resolveComponent"])("a-col"),c=Object(r["resolveComponent"])("a-tag"),a=Object(r["resolveComponent"])("a-row"),l=Object(r["resolveComponent"])("a-input"),u=Object(r["resolveComponent"])("a-select-option"),i=Object(r["resolveComponent"])("a-select"),d=Object(r["resolveComponent"])("a-radio"),b=Object(r["resolveComponent"])("a-radio-group"),s=Object(r["resolveComponent"])("a-form"),f=Object(r["resolveComponent"])("a-spin"),m=Object(r["resolveComponent"])("a-modal");return Object(r["openBlock"])(),Object(r["createBlock"])(m,{title:e.title,visible:e.visible,centered:"",class:"member-store-container",width:"700px",onOk:e.handleOk,onCancel:e.handleCancel},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{spinning:e.infoLoading,tip:"系统初始化，请稍后..."},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{ref:"submitForm",model:e.form,rules:e.rules,"label-col":{span:e.labelColSpan},"wrapper-col":{span:e.wrapperColSpan}},{default:Object(r["withCtx"])((function(){return[3===e.type?(Object(r["openBlock"])(),Object(r["createBlock"])(a,{key:0,gutter:10},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(n,{label:"账号"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.form.username),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(n,{label:"角色"},{default:Object(r["withCtx"])((function(){return["admin"==e.form.role?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0,color:"blue"},{default:Object(r["withCtx"])((function(){return[A]})),_:1})):Object(r["createCommentVNode"])("",!0),"manage"==e.form.role?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:1,color:"green"},{default:Object(r["withCtx"])((function(){return[U]})),_:1})):Object(r["createCommentVNode"])("",!0),"user"==e.form.role?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:2,color:"orange"},{default:Object(r["withCtx"])((function(){return[$]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(n,{label:"昵称"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.form.nickName),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(n,{label:"真实姓名"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.form.realName),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(n,{label:"性别"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.form.gender),1)]})),_:1})]})),_:1})]})),_:1})):(Object(r["openBlock"])(),Object(r["createBlock"])(a,{key:1,gutter:10},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(n,{label:"账号",name:"username"},{default:Object(r["withCtx"])((function(){return[2===e.type?(Object(r["openBlock"])(),Object(r["createBlock"])("span",F,Object(r["toDisplayString"])(e.form.username),1)):(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:1,value:e.form.username,"onUpdate:value":t[1]||(t[1]=function(t){return e.form.username=t}),placeholder:"请输入账号"},null,8,["value"]))]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(n,{label:"角色",name:"role"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{value:e.form.role,"onUpdate:value":t[2]||(t[2]=function(t){return e.form.role=t}),class:"width-100",placeholder:"请选择角色"},{default:Object(r["withCtx"])((function(){return[e.roles.indexOf("admin")>=0?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,value:"admin"},{default:Object(r["withCtx"])((function(){return[q]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(u,{value:"manage"},{default:Object(r["withCtx"])((function(){return[R]})),_:1}),Object(r["createVNode"])(u,{value:"user"},{default:Object(r["withCtx"])((function(){return[G]})),_:1})]})),_:1},8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(n,{label:"昵称",name:"nickName"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{value:e.form.nickName,"onUpdate:value":t[3]||(t[3]=function(t){return e.form.nickName=t}),placeholder:"请输入昵称"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(n,{label:"真实姓名",name:"realName"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{value:e.form.realName,"onUpdate:value":t[4]||(t[4]=function(t){return e.form.realName=t}),placeholder:"请输入真实姓名"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(o,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(n,{label:"性别",name:"gender"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{value:e.form.gender,"onUpdate:value":t[5]||(t[5]=function(t){return e.form.gender=t})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{value:"男"},{default:Object(r["withCtx"])((function(){return[z]})),_:1}),Object(r["createVNode"])(d,{value:"女"},{default:Object(r["withCtx"])((function(){return[K]})),_:1})]})),_:1},8,["value"])]})),_:1})]})),_:1})]})),_:1}))]})),_:1},8,["model","rules","label-col","wrapper-col"])]})),_:1},8,["spinning"])]})),_:1},8,["title","visible","onOk","onCancel"])}n("4798");var X={name:"MemberStore",props:{visible:{type:Boolean,default:!1},id:{type:String,default:null},type:{type:Number,default:1}},setup:function(e,t){var n=Object(r["getCurrentInstance"])(),o=n.ctx,c=Object(r["computed"])((function(){return o.$store.getters.roles})),a=Object(E["a"])(),l=a.showDevMoadl,u=Object(r["ref"])("人员信息详情"),i={username:null,realName:null,gender:null,role:null,nickName:null},b=6,s=18,f=Object(r["reactive"])(Object(d["a"])({},i)),m=Object(r["reactive"])({username:[{required:!0,message:"请输入账号",trigger:"blur"}],realName:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"change"}],role:[{required:!0,message:"请选择角色",trigger:"change"}],nickName:[{required:!0,message:"请输入昵称",trigger:"blur"}]}),O=[{label:"超级管理员",value:"admin"},{label:"系统管理员",value:"manage"},{label:"普通用户",value:"user"}],j=function(){e.type<3&&l(),p()},p=function(){t.emit("close",!1)},g=Object(r["ref"])(!1),v=function(){g.value=!0,N.GetMemberInfo(e.id).then((function(e){var t=e.code,n=e.data;if(200==t){var r=n.username,c=n.realName,a=n.gender,l=n.role,u=n.nickName;f.username=r,f.realName=c,f.gender=a,f.role=l,f.nickName=u}else o.$message.error("无法获取人员信息!")})).catch((function(e){return console.log(e)})).finally((function(){return g.value=!1}))};return Object(r["watch"])((function(){return e.visible}),(function(t){if(t)switch(o.$nextTick((function(){o.$refs.submitForm.resetFields()})),e.type){case 1:u.value="新增人员";break;case 2:u.value="编辑人员",v(e.id);break;case 3:u.value="查看详情",v(e.id);break;default:console.log("type is error")}})),Object(r["onMounted"])((function(){})),{title:u,infoLoading:g,showDevMoadl:l,handleOk:j,handleCancel:p,form:f,rules:m,roleList:O,labelColSpan:b,wrapperColSpan:s,roles:c}}};X.render=J;var Y=X,Q={name:"MemberList",components:{MemberStore:Y},emits:{close:function(e){return console.log(8888,e),!0}},setup:function(){var e=Object(r["getCurrentInstance"])(),t=e.ctx,n=Object(E["a"])(),o=n.showDevMoadl,c=Object(r["computed"])((function(){return t.$store.getters.companyId})),a=Object(r["computed"])((function(){return t.$store.getters.roles})),l=Object(D["a"])(),u=l.listLoading,i=l.listData,d=l.pageConfig,b=l.rowSelection,s=l.getList,f=l.search,m=[{title:"账号",dataIndex:"username",key:"username",width:150,fixed:"left"},{title:"真实姓名",dataIndex:"realName",key:"realName"},{title:"性别",dataIndex:"gender",key:"gender"},{title:"角色",key:"role",dataIndex:"role",slots:{customRender:"role"}},{title:"操作",key:"action",slots:{customRender:"action"},width:150,fixed:"right"}],O=Object(r["reactive"])({visible:!1,id:null,type:1}),j=function(e,t){O.visible=!0,O.id=e?e.objectId:null,O.type=t},p=function(e){O.visible=e,O.id=null,O.type=1},g=function(e,t,n){console.log(e,t,n),s(e.current,e.pageSize,v)},v=function(e,t){return N.GetMemberList({companyId:c.value},e,t)};return Object(r["onMounted"])((function(){s(d.current,d.pageSize,v)})),{listLoading:u,listData:i,pageConfig:d,getList:s,search:f,columns:m,rowSelection:b,handleTableChange:g,roles:a,showDevMoadl:o,memberStoreModal:O,openMemberStoreMoadl:j,closeMemberStoreModal:p}}};Q.render=L;var H=Q,W={name:"CompanyInfo",components:{BaseInfo:C,MemberList:H},setup:function(){var e=Object(r["getCurrentInstance"])(),t=e.ctx,n=Object(r["computed"])((function(){return t.$store.getters.pageLoading})),o=Object(r["computed"])((function(){return t.$store.getters.companyId})),c=Object(r["computed"])((function(){return"base"===i.value&&(t.$store.getters.roles.indexOf("admin")>=0||t.$store.getters.roles.indexOf("manage")>=0)})),a=Object(r["ref"])({companyBaseInfo:{},companyMembers:{}}),l=Object(r["ref"])(!0),u=[{label:"基本信息",name:"base",data:"companyBaseInfo",component:"BaseInfo"},{label:"人员信息",name:"member",data:"companyMembers",component:"MemberList"}],i=Object(r["ref"])("base"),b=function(e){t.$store.dispatch("app/setPageLoading",e)},s=function(){b(!0),N.GetCompanyInfo(o.value).then((function(e){var n=e.code,r=e.data;200==n?a.value.companyBaseInfo=Object(d["a"])({},r):t.$message.error("数据获取失败，请稍后重试")})).catch((function(e){return console.log(e)})).finally((function(){return b(!1)}))},f=Object(r["ref"])(!1),m=function(e){l.value=!e,f.value=e,e||s()},O=function(e){"变更基本信息"!==e&&"取消变更基本信息"!==e||(m(!1),s())};return Object(r["onMounted"])((function(){s()})),{tabs:u,activeName:i,pageLoading:n,tabDatas:a,disableEdit:l,changeInfo:m,isChange:f,tabContentChange:O,showBaseInfoChangeBtn:c}}};n("bc66");W.render=i,W.__scopeId="data-v-6991ab8f";t["default"]=W},e568:function(e,t,n){}}]);