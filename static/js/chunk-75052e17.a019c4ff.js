(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75052e17"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"229c":function(e,t,n){"use strict";n("f699")},"4b7c":function(e,t,n){"use strict";var r=n("7a23");t["a"]=function(){var e=Object(r["ref"])(!1),t=Object(r["ref"])(!1),n=Object(r["ref"])([]),c=Object(r["reactive"])({current:1,pageSize:10,pageSizeOptions:["10","30","50","80"],total:0,showSizeChanger:!0,showTotal:function(e){return"共 ".concat(e," 个")}}),o=Object(r["reactive"])({selectedRowKeys:[],onChange:function(e){o.selectedRowKeys=e}});function a(t,r,o){c.current=t,c.pageSize=r,e.value=!0,o(t,r).then((function(t){var r=t.data,o=t.page;e.value=!1,n.value=r,c.current=o.page,c.pageSize=o.size,c.total=o.count})).catch((function(e){return console.log(e)}))}function l(){o.selectedRowKeys=[]}return{listLoading:e,searchLoading:t,listData:n,pageConfig:c,rowSelection:o,getList:a,clearSelect:l}}},"841c":function(e,t,n){"use strict";var r=n("d784"),c=n("825a"),o=n("1d80"),a=n("129f"),l=n("14c3");r("search",1,(function(e,t,n){return[function(t){var n=o(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=c(e),u=String(this),i=o.lastIndex;a(i,0)||(o.lastIndex=0);var b=l(o,u);return a(o.lastIndex,i)||(o.lastIndex=i),null===b?-1:b.index}]}))},a9e3:function(e,t,n){"use strict";var r=n("83ab"),c=n("da84"),o=n("94ca"),a=n("6eeb"),l=n("5135"),u=n("c6b6"),i=n("7156"),b=n("c04e"),d=n("d039"),s=n("7c73"),f=n("241c").f,m=n("06cf").f,O=n("9bf2").f,j=n("58a8").trim,p="Number",g=c[p],N=g.prototype,C=u(s(N))==p,x=function(e){var t,n,r,c,o,a,l,u,i=b(e,!1);if("string"==typeof i&&i.length>2)if(i=j(i),t=i.charCodeAt(0),43===t||45===t){if(n=i.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(i.charCodeAt(1)){case 66:case 98:r=2,c=49;break;case 79:case 111:r=8,c=55;break;default:return+i}for(o=i.slice(2),a=o.length,l=0;l<a;l++)if(u=o.charCodeAt(l),u<48||u>c)return NaN;return parseInt(o,r)}return+i};if(o(p,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var h,v=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof v&&(C?d((function(){N.valueOf.call(n)})):u(n)!=p)?i(new g(x(t)),n,v):x(t)},w=r?f(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),V=0;w.length>V;V++)l(g,h=w[V])&&!l(v,h)&&O(v,h,m(g,h));v.prototype=N,N.constructor=v,a(c,p,v)}},e0e2:function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),c=Object(r["withScopeId"])("data-v-07ba9a22");Object(r["pushScopeId"])("data-v-07ba9a22");var o={class:"company-info-container"},a={class:"operate-btn-container"},l=Object(r["createTextVNode"])("变更基本信息"),u=Object(r["createTextVNode"])("取消变更");Object(r["popScopeId"])();var i=c((function(e,t,n,i,b,d){var s=Object(r["resolveComponent"])("a-tab-pane"),f=Object(r["resolveComponent"])("a-tabs"),m=Object(r["resolveComponent"])("a-button");return Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])(f,{"active-key":i.activeName,"onUpdate:active-key":t[1]||(t[1]=function(e){return i.activeName=e}),type:"card",class:"card-container"},{default:c((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(i.tabs,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:e.name,tab:e.label},{default:c((function(){return[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.component),{ref:e.name,"active-tab-name":i.activeName,data:i.tabDatas[e.data],loading:i.pageLoading,"disable-edit":i.disableEdit,onChange:i.tabContentChange},null,8,["active-tab-name","data","loading","disable-edit","onChange"]))]})),_:2},1032,["tab"])})),128))]})),_:1},8,["active-key"]),Object(r["createVNode"])("div",a,[i.showBaseInfoChangeBtn?(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:0},[i.isChange?(Object(r["openBlock"])(),Object(r["createBlock"])(m,{key:1,onClick:t[3]||(t[3]=function(e){return i.changeInfo(!1)})},{default:c((function(){return[u]})),_:1})):(Object(r["openBlock"])(),Object(r["createBlock"])(m,{key:0,type:"primary",onClick:t[2]||(t[2]=function(e){return i.changeInfo(!0)})},{default:c((function(){return[l]})),_:1}))],64)):Object(r["createCommentVNode"])("",!0)])])})),b=(n("c975"),n("d3b7"),n("5530")),d=n("f64c"),s={key:0,class:"base-info-container"},f=Object(r["createTextVNode"])("取消变更"),m=Object(r["createTextVNode"])("提交变更");function O(e,t,n,c,o,a){var l=Object(r["resolveComponent"])("a-form-item"),u=Object(r["resolveComponent"])("a-col"),i=Object(r["resolveComponent"])("a-row"),b=Object(r["resolveComponent"])("a-input"),d=Object(r["resolveComponent"])("a-select-option"),O=Object(r["resolveComponent"])("a-select"),j=Object(r["resolveComponent"])("a-button"),p=Object(r["resolveComponent"])("a-space"),g=Object(r["resolveComponent"])("a-form");return n.loading?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])("div",s,[Object(r["createVNode"])(g,{ref:"submitForm",model:c.form,rules:c.rules,"label-col":{span:c.labelColSpan},"wrapper-col":{span:c.wrapperColSpan}},{default:Object(r["withCtx"])((function(){return[n.disableEdit?(Object(r["openBlock"])(),Object(r["createBlock"])(i,{key:0,gutter:10},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"单位名称"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.form.companyName),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"统一信用代码"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.form.creditCode),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"单位性质"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.form.companyNature),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"单位地址"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.form.companyAddress),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"法人姓名"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.form.legalPersonName),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"法人身份证号"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.form.legalPersonNumber),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"单位联系人"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.form.contacter),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"联系人手机号"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.form.contacterPhone),1)]})),_:1})]})),_:1})]})),_:1})):(Object(r["openBlock"])(),Object(r["createBlock"])(i,{key:1,gutter:10},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"单位名称",name:"companyName"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{value:c.form.companyName,"onUpdate:value":t[1]||(t[1]=function(e){return c.form.companyName=e}),placeholder:"请输入单位名称"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"统一信用代码",name:"creditCode"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{value:c.form.creditCode,"onUpdate:value":t[2]||(t[2]=function(e){return c.form.creditCode=e}),placeholder:"请输入统一信用代码"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"单位性质",name:"companyNature"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,{value:c.form.companyNature,"onUpdate:value":t[3]||(t[3]=function(e){return c.form.companyNature=e}),class:"width-100",placeholder:"请选择企单位性质"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(c.companyNatureList,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:"companyNature"+t,value:e},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"单位地址",name:"companyAddress"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{value:c.form.companyAddress,"onUpdate:value":t[4]||(t[4]=function(e){return c.form.companyAddress=e}),placeholder:"请输入单位地址"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"法人姓名",name:"legalPersonName"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{value:c.form.legalPersonName,"onUpdate:value":t[5]||(t[5]=function(e){return c.form.legalPersonName=e}),placeholder:"请输入法人姓名"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"法人身份证号",name:"legalPersonNumber"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{value:c.form.legalPersonNumber,"onUpdate:value":t[6]||(t[6]=function(e){return c.form.legalPersonNumber=e}),placeholder:"请输入法人身份证号码"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"单位联系人",name:"contacter"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{value:c.form.contacter,"onUpdate:value":t[7]||(t[7]=function(e){return c.form.contacter=e}),placeholder:"请输入单位联系人姓名"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"联系人手机号",name:"contacterPhone"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{value:c.form.contacterPhone,"onUpdate:value":t[8]||(t[8]=function(e){return c.form.contacterPhone=e}),placeholder:"请输入联系人手机号码"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{"wrapper-col":{span:c.wrapperColSpan,offset:c.labelColSpan}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{size:"small"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(j,{onClick:c.cancelChange},{default:Object(r["withCtx"])((function(){return[f]})),_:1},8,["onClick"]),Object(r["createVNode"])(j,{type:"primary",onClick:c.onSubmit,loading:c.submitLoading},{default:Object(r["withCtx"])((function(){return[m]})),_:1},8,["onClick","loading"])]})),_:1})]})),_:1},8,["wrapper-col"])]})),_:1})]})),_:1}))]})),_:1},8,["model","rules","label-col","wrapper-col"])]))}n("b64b"),n("96cf");var j=n("1da1"),p=n("5502"),g=n("61f7"),N=n("56c6"),C={GetCompanyInfo:function(e){return new Promise((function(t,n){N["a"].GetOne("CompanyInfo",e).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))},EditCompanyInfo:function(e,t){return new Promise((function(n,r){N["a"].EditOne("CompanyInfo",t,e).then((function(e){return n(e)})).catch((function(e){return r(e)}))}))},GetMemberList:function(e,t,n){var r=N["a"].GetQuery("_User");return r.equalTo("companyId","==",e.companyId),new Promise((function(e,c){N["a"].GetListData(r,t,n).then((function(t){return e(t)})).catch((function(e){return c(e)}))}))},GetMemberInfo:function(e){return new Promise((function(t,n){N["a"].GetOne("_User",e).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}},x={name:"BaseInfo",props:{activeTabName:{type:String,default:"base"},data:{type:Object,default:function(){return{}}},loading:{type:Boolean,default:!0},disableEdit:{type:Boolean,default:!0}},setup:function(e,t){var n=Object(p["b"])();Object(r["watch"])((function(){return e.data}),(function(e){var t=e&&Object.keys(e).length?Object(b["a"])({},e):Object(b["a"])({},s),n=t.companyName,r=t.creditCode,c=t.companyNature,o=t.companyAddress,a=t.legalPersonName,l=t.legalPersonNumber,u=t.contacter,i=t.contacterPhone;f.companyName=n,f.creditCode=r,f.companyNature=c,f.companyAddress=o,f.legalPersonName=a,f.legalPersonNumber=l,f.contacter=u,f.contacterPhone=i}));var c=5,o=19,a=Object(r["computed"])((function(){return n.getters.companyId})),l=Object(r["ref"])(!1),u=Object(r["ref"])(null),i=["事业单位","国有企业","集体所有制企业","私营企业","股份制企业","外资企业"],s={companyName:null,creditCode:null,companyNature:null,companyAddress:null,legalPersonName:null,legalPersonNumber:null,contacter:null,contacterPhone:null},f=Object(r["reactive"])(Object(b["a"])({},s)),m=function(e,t){return t?Object(g["c"])(t)?Promise.resolve():Promise.reject(new Error("统一社会信用代码格式错误")):Promise.reject(new Error("请输入统一社会信用代码"))},O=function(e,t){return t?Object(g["e"])(t)?Promise.resolve():Promise.reject(new Error("身份证号格式错误")):Promise.reject(new Error("请输入法人身份证号码"))},N=function(e,t){return t?Object(g["h"])(t)?Promise.resolve():Promise.reject(new Error("手机号码格式错误")):Promise.reject(new Error("请输入联系人手机号码"))},x=Object(r["reactive"])({companyName:[{required:!0,message:"请输入企业名称",trigger:"blur"}],creditCode:[{required:!0,validator:m,trigger:"blur"}],companyNature:[{required:!0,message:"请选择企业类型",trigger:"change"}],companyAddress:[{required:!0,message:"请输入单位地址",trigger:"blur"}],legalPersonName:[{required:!0,message:"请输入法人姓名",trigger:"blur"}],legalPersonNumber:[{required:!0,validator:O,trigger:"blur"}],contacter:[{required:!0,message:"请输入单位联系人姓名",trigger:"blur"}],contacterPhone:[{required:!0,validator:N,trigger:"blur"}]}),h=function(){u.value.validate().then(Object(j["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:l.value=!0,n=Object(r["toRaw"])(f),C.EditCompanyInfo(n,a.value).then((function(e){200==e.code?(t.emit("change","变更基本信息"),d["a"].success("基本信息变更成功！")):d["a"].error("基本信息变更失败！")})).catch((function(e){return console.log(e)})).finally((function(){return l.value=!1}));case 3:case"end":return e.stop()}}),e)})))).catch((function(e){console.log("error",e)}))},v=function(){t.emit("change","取消变更基本信息")};return{labelColSpan:c,wrapperColSpan:o,form:f,rules:x,companyNatureList:i,submitLoading:l,onSubmit:h,cancelChange:v,submitForm:u}}};x.render=O;var h=x,v={class:"member-list-container"},w={key:0,class:"operate-btn-container mb-20"},V=Object(r["createTextVNode"])("添加"),y=Object(r["createTextVNode"])("删除"),k=Object(r["createTextVNode"])("启用"),_=Object(r["createTextVNode"])("禁用"),B=Object(r["createTextVNode"])("超级管理员"),S=Object(r["createTextVNode"])("系统管理员"),I=Object(r["createTextVNode"])("普通用户"),T=Object(r["createTextVNode"])("编辑 "),M=Object(r["createTextVNode"])("删除 "),P=Object(r["createTextVNode"])("查看详情 "),D=Object(r["createTextVNode"])("查看详情 ");function L(e,t,n,c,o,a){var l=Object(r["resolveComponent"])("smile-outlined"),u=Object(r["resolveComponent"])("a-alert"),i=Object(r["resolveComponent"])("a-button"),b=Object(r["resolveComponent"])("a-popconfirm"),d=Object(r["resolveComponent"])("a-space"),s=Object(r["resolveComponent"])("a-tag"),f=Object(r["resolveComponent"])("edit-outlined"),m=Object(r["resolveComponent"])("a-divider"),O=Object(r["resolveComponent"])("delete-outlined"),j=Object(r["resolveComponent"])("eye-outlined"),p=Object(r["resolveComponent"])("a-table"),g=Object(r["resolveComponent"])("member-store");return Object(r["openBlock"])(),Object(r["createBlock"])("div",v,[c.roles.indexOf("user")<0?(Object(r["openBlock"])(),Object(r["createBlock"])("div",w,[Object(r["createVNode"])(u,{description:"本页只做布局展示，若要测试增、删、改、查等功能请移步到“账户管理”页面进行操作",type:"info",class:"mb-20"},{icon:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l)]})),_:1}),Object(r["createVNode"])(d,{size:"small"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{type:"primary",onClick:t[1]||(t[1]=function(e){return c.openMemberStoreMoadl(null,1)})},{default:Object(r["withCtx"])((function(){return[V]})),_:1}),Object(r["createVNode"])(b,{title:"确认删除?",onConfirm:t[2]||(t[2]=function(e){return c.showDevMoadl()})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{disabled:0===c.rowSelection.selectedRowKeys.length},{default:Object(r["withCtx"])((function(){return[y]})),_:1},8,["disabled"])]})),_:1}),Object(r["createVNode"])(i,{type:"primary",disabled:0===c.rowSelection.selectedRowKeys.length,onClick:c.showDevMoadl},{default:Object(r["withCtx"])((function(){return[k]})),_:1},8,["disabled","onClick"]),Object(r["createVNode"])(i,{disabled:0===c.rowSelection.selectedRowKeys.length,onClick:c.showDevMoadl},{default:Object(r["withCtx"])((function(){return[_]})),_:1},8,["disabled","onClick"])]})),_:1})])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(p,{class:"table-container",scroll:{x:1130},loading:c.listLoading,columns:c.columns,"data-source":c.listData,"row-key":function(e){return e.objectId},pagination:c.pageConfig,"row-selection":c.rowSelection,onChange:c.handleTableChange},{role:Object(r["withCtx"])((function(e){var t=e.text;return[Object(r["createVNode"])("span",null,["admin"===t?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,color:"blue",class:"mr-10"},{default:Object(r["withCtx"])((function(){return[B]})),_:1})):Object(r["createCommentVNode"])("",!0),"manage"===t?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:1,color:"green",class:"mr-10"},{default:Object(r["withCtx"])((function(){return[S]})),_:1})):Object(r["createCommentVNode"])("",!0),"user"===t?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:2,color:"orange",class:"mr-10"},{default:Object(r["withCtx"])((function(){return[I]})),_:1})):Object(r["createCommentVNode"])("",!0)])]})),action:Object(r["withCtx"])((function(e){var n=e.record;return[c.roles.indexOf("user")<0?(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:0},[c.roles.indexOf("admin")>=0||c.roles.indexOf(n.role)>=0||"user"===n.role?(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:0},[Object(r["createVNode"])("a",{onClick:function(e){return c.openMemberStoreMoadl(n,2)}},[Object(r["createVNode"])(f,{class:"mr-5"}),T],8,["onClick"]),Object(r["createVNode"])(m,{type:"vertical"}),Object(r["createVNode"])(b,{title:"确认删除?",onConfirm:t[3]||(t[3]=function(e){return c.showDevMoadl()})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("a",null,[Object(r["createVNode"])(O,{class:"mr-5"}),M])]})),_:1})],64)):(Object(r["openBlock"])(),Object(r["createBlock"])("a",{key:1,onClick:function(e){return c.openMemberStoreMoadl(n,3)}},[Object(r["createVNode"])(j,{class:"mr-5"}),P],8,["onClick"]))],64)):(Object(r["openBlock"])(),Object(r["createBlock"])("a",{key:1,onClick:function(e){return c.openMemberStoreMoadl(n,3)}},[Object(r["createVNode"])(j,{class:"mr-5"}),D],8,["onClick"]))]})),_:1},8,["loading","columns","data-source","row-key","pagination","row-selection","onChange"]),Object(r["createVNode"])(g,{visible:c.memberStoreModal.visible,"onUpdate:visible":t[4]||(t[4]=function(e){return c.memberStoreModal.visible=e}),id:c.memberStoreModal.id,type:c.memberStoreModal.type,onClose:c.closeMemberStoreModal},null,8,["visible","id","type","onClose"])])}n("ac1f"),n("841c");var E=n("4b7c"),A=n("8c1b"),U=Object(r["createTextVNode"])("超级管理员"),F=Object(r["createTextVNode"])("系统管理员"),R=Object(r["createTextVNode"])("普通用户"),q={key:0},G=Object(r["createTextVNode"])("超级管理员"),z=Object(r["createTextVNode"])("系统管理员"),K=Object(r["createTextVNode"])("普通用户"),J=Object(r["createTextVNode"])("男"),X=Object(r["createTextVNode"])("女");function Y(e,t,n,c,o,a){var l=Object(r["resolveComponent"])("a-form-item"),u=Object(r["resolveComponent"])("a-col"),i=Object(r["resolveComponent"])("a-tag"),b=Object(r["resolveComponent"])("a-row"),d=Object(r["resolveComponent"])("a-input"),s=Object(r["resolveComponent"])("a-select-option"),f=Object(r["resolveComponent"])("a-select"),m=Object(r["resolveComponent"])("a-radio"),O=Object(r["resolveComponent"])("a-radio-group"),j=Object(r["resolveComponent"])("a-form"),p=Object(r["resolveComponent"])("a-spin"),g=Object(r["resolveComponent"])("a-modal");return Object(r["openBlock"])(),Object(r["createBlock"])(g,{title:c.title,visible:n.visible,centered:"",class:"member-store-container",width:"700px",onOk:c.handleOk,onCancel:c.handleCancel},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{spinning:c.infoLoading,tip:"系统初始化，请稍后..."},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(j,{ref:"submitForm",model:c.form,rules:c.rules,"label-col":{span:c.labelColSpan},"wrapper-col":{span:c.wrapperColSpan}},{default:Object(r["withCtx"])((function(){return[3===n.type?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,gutter:10},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"账号"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.form.username),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"角色"},{default:Object(r["withCtx"])((function(){return["admin"==c.form.role?(Object(r["openBlock"])(),Object(r["createBlock"])(i,{key:0,color:"blue"},{default:Object(r["withCtx"])((function(){return[U]})),_:1})):Object(r["createCommentVNode"])("",!0),"manage"==c.form.role?(Object(r["openBlock"])(),Object(r["createBlock"])(i,{key:1,color:"green"},{default:Object(r["withCtx"])((function(){return[F]})),_:1})):Object(r["createCommentVNode"])("",!0),"user"==c.form.role?(Object(r["openBlock"])(),Object(r["createBlock"])(i,{key:2,color:"orange"},{default:Object(r["withCtx"])((function(){return[R]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"昵称"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.form.nickName),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"真实姓名"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.form.realName),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"性别"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.form.gender),1)]})),_:1})]})),_:1})]})),_:1})):(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:1,gutter:10},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"账号",name:"username"},{default:Object(r["withCtx"])((function(){return[2===n.type?(Object(r["openBlock"])(),Object(r["createBlock"])("span",q,Object(r["toDisplayString"])(c.form.username),1)):(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:1,value:c.form.username,"onUpdate:value":t[1]||(t[1]=function(e){return c.form.username=e}),placeholder:"请输入账号"},null,8,["value"]))]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"角色",name:"role"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{value:c.form.role,"onUpdate:value":t[2]||(t[2]=function(e){return c.form.role=e}),class:"width-100",placeholder:"请选择角色"},{default:Object(r["withCtx"])((function(){return[c.roles.indexOf("admin")>=0?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,value:"admin"},{default:Object(r["withCtx"])((function(){return[G]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(s,{value:"manage"},{default:Object(r["withCtx"])((function(){return[z]})),_:1}),Object(r["createVNode"])(s,{value:"user"},{default:Object(r["withCtx"])((function(){return[K]})),_:1})]})),_:1},8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"昵称",name:"nickName"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{value:c.form.nickName,"onUpdate:value":t[3]||(t[3]=function(e){return c.form.nickName=e}),placeholder:"请输入昵称"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"真实姓名",name:"realName"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{value:c.form.realName,"onUpdate:value":t[4]||(t[4]=function(e){return c.form.realName=e}),placeholder:"请输入真实姓名"},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"性别",name:"gender"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,{value:c.form.gender,"onUpdate:value":t[5]||(t[5]=function(e){return c.form.gender=e})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,{value:"男"},{default:Object(r["withCtx"])((function(){return[J]})),_:1}),Object(r["createVNode"])(m,{value:"女"},{default:Object(r["withCtx"])((function(){return[X]})),_:1})]})),_:1},8,["value"])]})),_:1})]})),_:1})]})),_:1}))]})),_:1},8,["model","rules","label-col","wrapper-col"])]})),_:1},8,["spinning"])]})),_:1},8,["title","visible","onOk","onCancel"])}n("a9e3");var Q={name:"MemberStore",props:{visible:{type:Boolean,default:!1},id:{type:String,default:null},type:{type:Number,default:1}},setup:function(e,t){var n=Object(A["a"])(),c=n.store,o=n.showDevMoadl;Object(r["watch"])((function(){return e.visible}),function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=16;break}return t.next=3,Object(r["nextTick"])();case 3:g.value.resetFields(),t.t0=e.type,t.next=1===t.t0?7:2===t.t0?9:3===t.t0?12:15;break;case 7:return l.value="新增人员",t.abrupt("break",16);case 9:return l.value="编辑人员",h(e.id),t.abrupt("break",16);case 12:return l.value="查看详情",h(e.id),t.abrupt("break",16);case 15:console.log("type is error");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var a=Object(r["computed"])((function(){return c.getters.roles})),l=Object(r["ref"])("人员信息详情"),u={username:null,realName:null,gender:null,role:null,nickName:null},i=6,s=18,f=Object(r["reactive"])(Object(b["a"])({},u)),m=Object(r["reactive"])({username:[{required:!0,message:"请输入账号",trigger:"blur"}],realName:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"change"}],role:[{required:!0,message:"请选择角色",trigger:"change"}],nickName:[{required:!0,message:"请输入昵称",trigger:"blur"}]}),O=[{label:"超级管理员",value:"admin"},{label:"系统管理员",value:"manage"},{label:"普通用户",value:"user"}],p=Object(r["ref"])(!1),g=Object(r["ref"])(null),N=function(){e.type<3&&o(),x()},x=function(){t.emit("close",!1)},h=function(){p.value=!0,C.GetMemberInfo(e.id).then((function(e){var t=e.code,n=e.data;if(200==t){var r=n.username,c=n.realName,o=n.gender,a=n.role,l=n.nickName;f.username=r,f.realName=c,f.gender=o,f.role=a,f.nickName=l}else d["a"].error("无法获取人员信息!")})).catch((function(e){return console.log(e)})).finally((function(){return p.value=!1}))};return Object(r["onMounted"])((function(){})),{title:l,infoLoading:p,showDevMoadl:o,handleOk:N,handleCancel:x,form:f,rules:m,roleList:O,labelColSpan:i,wrapperColSpan:s,roles:a,submitForm:g}}};Q.render=Y;var H=Q,W={name:"MemberList",components:{MemberStore:H},emits:{close:function(e){return console.log(8888,e),!0}},setup:function(){var e=Object(A["a"])(),t=e.store,n=e.showDevMoadl,c=Object(r["computed"])((function(){return t.getters.companyId})),o=Object(r["computed"])((function(){return t.getters.roles})),a=Object(E["a"])(),l=a.listLoading,u=a.listData,i=a.pageConfig,b=a.rowSelection,d=a.getList,s=a.search,f=[{title:"账号",dataIndex:"username",key:"username",width:150,fixed:"left"},{title:"真实姓名",dataIndex:"realName",key:"realName"},{title:"性别",dataIndex:"gender",key:"gender"},{title:"角色",key:"role",dataIndex:"role",slots:{customRender:"role"}},{title:"操作",key:"action",slots:{customRender:"action"},width:150,fixed:"right"}],m=Object(r["reactive"])({visible:!1,id:null,type:1}),O=function(e,t){m.visible=!0,m.id=e?e.objectId:null,m.type=t},j=function(e){m.visible=e,m.id=null,m.type=1},p=function(e,t,n){console.log(e,t,n),d(e.current,e.pageSize,g)},g=function(e,t){return C.GetMemberList({companyId:c.value},e,t)};return Object(r["onMounted"])((function(){d(i.current,i.pageSize,g)})),{listLoading:l,listData:u,pageConfig:i,getList:d,search:s,columns:f,rowSelection:b,handleTableChange:p,roles:o,showDevMoadl:n,memberStoreModal:m,openMemberStoreMoadl:O,closeMemberStoreModal:j}}};W.render=L;var Z=W,$={name:"CompanyInfo",components:{BaseInfo:h,MemberList:Z},setup:function(){var e=Object(A["a"])(),t=e.store,n=e.setPageLoding,c=e.pageLoading,o=Object(r["computed"])((function(){return t.getters.companyId})),a=Object(r["computed"])((function(){return"base"===s.value&&(t.getters.roles.indexOf("admin")>=0||t.getters.roles.indexOf("manage")>=0)})),l=Object(r["ref"])({companyBaseInfo:{},companyMembers:{}}),u=Object(r["ref"])(!0),i=[{label:"基本信息",name:"base",data:"companyBaseInfo",component:"BaseInfo"},{label:"人员信息",name:"member",data:"companyMembers",component:"MemberList"}],s=Object(r["ref"])("base"),f=Object(r["ref"])(!1),m=function(){n(!0),C.GetCompanyInfo(o.value).then((function(e){var t=e.code,n=e.data;200==t?l.value.companyBaseInfo=Object(b["a"])({},n):d["a"].error("数据获取失败，请稍后重试")})).catch((function(e){return console.log(e)})).finally((function(){return n(!1)}))},O=function(e){u.value=!e,f.value=e,e||m()},j=function(e){"变更基本信息"!==e&&"取消变更基本信息"!==e||(O(!1),m())};return Object(r["onMounted"])((function(){m()})),{tabs:i,activeName:s,pageLoading:c,tabDatas:l,disableEdit:u,changeInfo:O,isChange:f,tabContentChange:j,showBaseInfoChangeBtn:a}}};n("229c");$.render=i,$.__scopeId="data-v-07ba9a22";t["default"]=$},f699:function(e,t,n){}}]);